{"version":3,"file":"AaContentComponent.esm.js","sources":["../../../src/components/AaContentComponent/AaContentComponent.tsx"],"sourcesContent":["/* eslint-disable no-console */\r\nimport { useState } from 'react';\r\nimport { Grid, Tab } from '@material-ui/core';\r\nimport TabPanel from '@mui/lab/TabPanel';\r\nimport TabList from '@mui/lab/TabList';\r\nimport TabContext from '@mui/lab/TabContext';\r\nimport {\r\n  Content,\r\n  InfoCard,\r\n  StructuredMetadataTable,\r\n} from '@backstage/core-components';\r\nimport { OrganisationDataResponse } from '../../api/types';\r\nimport { AaTimeSelect } from '../AaTimeSelect/';\r\nimport { getEndDate, getStartDate } from '../../helpers';\r\nimport { AaSprintInsightsPage } from '../AaSprintInsightsPage';\r\nimport { AaDoraPage } from '../AaDoraPage';\r\nimport { AaStockPage } from '../AaStockPage';\r\nimport { AaLeaksPage } from '../AaLeaksPage';\r\nimport { AaSlosPage } from '../AaSlosPage';\r\nimport { AaErrorBudgetsPage } from '../AaErrorBudgetsPage';\r\nimport { AaKudosPage } from '../AaKudosPage';\r\n\r\nexport const AaContentComponent = ({\r\n  orgData,\r\n  orgHash,\r\n  apiKey,\r\n}: {\r\n  orgData: OrganisationDataResponse;\r\n  orgHash: string;\r\n  apiKey: string;\r\n}) => {\r\n  const [timeperiod, setTimeperiod] = useState({\r\n    date_start: getStartDate(6, 'days'),\r\n    date_end: getEndDate(),\r\n    label: 'Last 7 days',\r\n    value: '7days',\r\n  });\r\n\r\n  const overviewMetadata = {\r\n    'Organisation hash': orgData.orgHash,\r\n    'Organisation name': orgData.orgName,\r\n    'Number of users': orgData.usersNumber,\r\n    Status: orgData.status,\r\n    Subscription: orgData.subscription,\r\n  };\r\n\r\n  const cardContentStyle = { heightX: 200, width: 600 };\r\n  const tabs = [\r\n    {\r\n      label: 'OVERVIEW',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\" style={cardContentStyle}>\r\n          <Grid item>\r\n            <InfoCard title=\"Organisation's Details\">\r\n              <StructuredMetadataTable\r\n                metadata={overviewMetadata}\r\n              />\r\n            </InfoCard>\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'SPRINT INSIGHTS',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaSprintInsightsPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'SLOS',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaSlosPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'ERROR BUDGETS',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaErrorBudgetsPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'DORA',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaDoraPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'KUDOS',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaKudosPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'STOCK',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaStockPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n    {\r\n      label: 'LEAKS',\r\n      content: (\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <AaLeaksPage\r\n              timeperiod={timeperiod}\r\n              orgHash={orgHash}\r\n              apiKey={apiKey}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const [selectedTab, setSelectedTab] = useState(tabs[0]?.label);\r\n\r\n  return (\r\n    <Content className=\"content-container\">\r\n      <div>\r\n        <Grid container spacing={3} direction=\"column\">\r\n          <Grid item>\r\n            <Grid item>\r\n              <AaTimeSelect\r\n                timeperiod={timeperiod}\r\n                setTimeperiod={setTimeperiod}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n          <Grid item>\r\n            <TabContext value={selectedTab}>\r\n              <TabList\r\n                onChange={(e, newValue) => setSelectedTab(newValue)}\r\n                aria-label=\"Agile Analytics features Tabs\"\r\n              >\r\n                {tabs?.map(tab => (\r\n                  <Tab label={tab?.label} value={tab?.label} />\r\n                ))}\r\n              </TabList>\r\n              {tabs?.map(tab => (\r\n                <TabPanel value={tab?.label} sx={{ padding: 0 }}>\r\n                  {tab?.content}\r\n                </TabPanel>\r\n              ))}\r\n            </TabContext>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </Content>\r\n    // </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}