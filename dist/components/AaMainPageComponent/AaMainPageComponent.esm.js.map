{"version":3,"file":"AaMainPageComponent.esm.js","sources":["../../../src/components/AaMainPageComponent/AaMainPageComponent.tsx"],"sourcesContent":["import {\r\n  Header,\r\n  Page,\r\n  HeaderLabel,\r\n  Progress,\r\n} from '@backstage/core-components';\r\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport useAsync from 'react-use/lib/useAsync';\r\nimport { agileAnalyticsApiRef } from '../../api';\r\nimport { AaContentComponent } from '../AaContentComponent';\r\n\r\nexport const AaMainPageComponent = () => {\r\n  const api = useApi(agileAnalyticsApiRef);\r\n  const config = useApi(configApiRef);\r\n  const orgHash = config.getString('agileAnalytics.orgHash');\r\n  const apiKey = config.getString('agileAnalytics.apiKey');\r\n\r\n  \r\n\r\n  const organisationState = useAsync(async (): Promise<any> => {\r\n    const response = await api.getOrganisationData({\r\n      orgHash: orgHash ? orgHash : '',\r\n      apiKey: apiKey ? apiKey : '',\r\n    });\r\n    return response;\r\n  }, []);\r\n\r\n  return (\r\n    <Page themeId=\"tool\">\r\n      <Header\r\n        // title=\"Agile Analytics\"\r\n        title={\r\n          organisationState?.value?.orgName\r\n            ? organisationState.value.orgName.trim()\r\n            : 'Agile Analytics'\r\n        }\r\n        subtitle={`${\r\n          organisationState?.value?.orgName\r\n            ? organisationState.value.orgName.trim()\r\n            : 'Your company'\r\n        }'s essential metrics from Agile Analytics`}\r\n      >\r\n        <HeaderLabel label=\"Owner\" value=\"Zen Software\" />\r\n        <HeaderLabel label=\"Lifecycle\" value=\"Alpha\" />\r\n      </Header>\r\n      {organisationState?.loading ? <Progress /> : null}\r\n      {organisationState?.error ? (\r\n        <Alert severity=\"error\">{organisationState?.error.message}</Alert>\r\n      ) : null}\r\n      {!organisationState.loading && !organisationState.error ? (\r\n        <AaContentComponent\r\n          orgData={organisationState?.value}\r\n          orgHash={orgHash}\r\n          apiKey={apiKey}\r\n        />\r\n      ) : null}\r\n    </Page>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;;AAYO,MAAM,sBAAsB,MAAM;AACvC,EAAA,MAAM,GAAA,GAAM,OAAO,oBAAoB,CAAA;AACvC,EAAA,MAAM,MAAA,GAAS,OAAO,YAAY,CAAA;AAClC,EAAA,MAAM,OAAA,GAAU,MAAA,CAAO,SAAA,CAAU,wBAAwB,CAAA;AACzD,EAAA,MAAM,MAAA,GAAS,MAAA,CAAO,SAAA,CAAU,uBAAuB,CAAA;AAIvD,EAAA,MAAM,iBAAA,GAAoB,SAAS,YAA0B;AAC3D,IAAA,MAAM,QAAA,GAAW,MAAM,GAAA,CAAI,mBAAA,CAAoB;AAAA,MAC7C,OAAA,EAAS,UAAU,OAAA,GAAU,EAAA;AAAA,MAC7B,MAAA,EAAQ,SAAS,MAAA,GAAS;AAAA,KAC3B,CAAA;AACD,IAAA,OAAO,QAAA;AAAA,EACT,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,uBACE,IAAA,CAAC,IAAA,EAAA,EAAK,OAAA,EAAQ,MAAA,EACZ,QAAA,EAAA;AAAA,oBAAA,IAAA;AAAA,MAAC,MAAA;AAAA,MAAA;AAAA,QAEC,KAAA,EACE,mBAAmB,KAAA,EAAO,OAAA,GACtB,kBAAkB,KAAA,CAAM,OAAA,CAAQ,MAAK,GACrC,iBAAA;AAAA,QAEN,QAAA,EAAU,CAAA,EACR,iBAAA,EAAmB,KAAA,EAAO,OAAA,GACtB,kBAAkB,KAAA,CAAM,OAAA,CAAQ,IAAA,EAAK,GACrC,cACN,CAAA,yCAAA,CAAA;AAAA,QAEA,QAAA,EAAA;AAAA,0BAAA,GAAA,CAAC,WAAA,EAAA,EAAY,KAAA,EAAM,OAAA,EAAQ,KAAA,EAAM,cAAA,EAAe,CAAA;AAAA,0BAChD,GAAA,CAAC,WAAA,EAAA,EAAY,KAAA,EAAM,WAAA,EAAY,OAAM,OAAA,EAAQ;AAAA;AAAA;AAAA,KAC/C;AAAA,IACC,iBAAA,EAAmB,OAAA,mBAAU,GAAA,CAAC,QAAA,EAAA,EAAS,CAAA,GAAK,IAAA;AAAA,IAC5C,iBAAA,EAAmB,wBAClB,GAAA,CAAC,KAAA,EAAA,EAAM,UAAS,OAAA,EAAS,QAAA,EAAA,iBAAA,EAAmB,KAAA,CAAM,OAAA,EAAQ,CAAA,GACxD,IAAA;AAAA,IACH,CAAC,iBAAA,CAAkB,OAAA,IAAW,CAAC,kBAAkB,KAAA,mBAChD,GAAA;AAAA,MAAC,kBAAA;AAAA,MAAA;AAAA,QACC,SAAS,iBAAA,EAAmB,KAAA;AAAA,QAC5B,OAAA;AAAA,QACA;AAAA;AAAA,KACF,GACE;AAAA,GAAA,EACN,CAAA;AAEJ;;;;"}