{"version":3,"file":"AaErrorBudgetsChart.esm.js","sources":["../../../src/components/AaErrorBudgetsChart/AaErrorBudgetsChart.tsx"],"sourcesContent":["/* eslint-disable no-console */\r\nimport { useEffect, useRef, useState } from 'react';\r\nimport { Box, Button, Typography } from '@material-ui/core';\r\nimport { Timeperiod } from '../../api/types';\r\nimport HighchartsReact from 'highcharts-react-official';\r\nimport Highcharts from 'highcharts';\r\nimport {\r\n  capitalizeFirstLetter,\r\n  filterDataEvents,\r\n  formatPlotLines,\r\n  generateErrorBudgetChartOptionsBase,\r\n  generateEventsChartOptionsBase,\r\n} from '../../helpers';\r\nimport _ from 'lodash';\r\nconst chartManager: {\r\n  tooltip?: any;\r\n}[] = [];\r\nlet rafId: number | string | null = null;\r\n\r\nHighcharts.Pointer.prototype.reset = function () {\r\n  return undefined;\r\n};\r\n\r\nconst onMouseLeave = () => {\r\n  if (chartManager.length > 1) {\r\n    chartManager?.forEach(chart => {\r\n      chart?.tooltip?.hide();\r\n    });\r\n  }\r\n};\r\n\r\nconst onMouseMove = (event: any, target: any) => {\r\n  if (rafId) return;\r\n  rafId = requestAnimationFrame(() => {\r\n    const hoverPoint = target.hoverPoint;\r\n    const currentService = target?.userOptions?.service;\r\n    const chartsFilteredByService = chartManager?.length\r\n      ? chartManager?.filter((item: any) => {\r\n          return item?.userOptions?.service === currentService;\r\n        })\r\n      : [];\r\n\r\n    if (hoverPoint && chartsFilteredByService?.length > 1) {\r\n      chartsFilteredByService?.forEach((chart: any) => {\r\n        const { series = [], xAxis = [] } = chart;\r\n        if (!series || series?.length === 0) {\r\n          return;\r\n        }\r\n\r\n        const visibleSeries = series.filter((serie: any) => serie.visible);\r\n        const points = visibleSeries.reduce((memo: any, serie: any) => {\r\n          memo.push(...serie.points);\r\n          return memo;\r\n        }, []);\r\n        const { min, max } = {\r\n          min: xAxis[0].min,\r\n          max: xAxis[xAxis?.length - 1].max,\r\n        };\r\n        const point = points?.find((item: any) => item.x === hoverPoint.x);\r\n\r\n        if (point && point?.formatPrefix === 'point') {\r\n          if (point?.series && hoverPoint.x >= min && hoverPoint.x <= max) {\r\n            point?.onMouseOver();\r\n          } else {\r\n            chart.tooltip.hide();\r\n          }\r\n        }\r\n      });\r\n    }\r\n    rafId = null;\r\n  });\r\n};\r\n\r\nconst registerChart = (target: any) => {\r\n  const index = chartManager.indexOf(target);\r\n  if (index < 0) {\r\n    chartManager.push(target);\r\n  }\r\n};\r\n\r\nconst unregisterChart = (target: any) => {\r\n  const index = chartManager.indexOf(target);\r\n\r\n  if (index >= 0) {\r\n    chartManager.splice(index, 1);\r\n  }\r\n};\r\n\r\nconst syncTooltip = (target: any) => {\r\n  if (!target || !target.container) {\r\n    return false;\r\n  }\r\n  registerChart(target);\r\n\r\n  const mouseMoveHandler = (event: any) => onMouseMove(event, target);\r\n  target.container.addEventListener('mousemove', mouseMoveHandler);\r\n  const mouseLeaveHandler = (event: any) => onMouseLeave();\r\n  target.container.addEventListener('mouseleave', mouseLeaveHandler);\r\n\r\n  return () => {\r\n    unregisterChart(target);\r\n    target.container.removeEventListener('mousemove', mouseMoveHandler);\r\n    target.container.removeEventListener('mouseleave', mouseLeaveHandler);\r\n  };\r\n};\r\n\r\nconst SyncChart = ({ options }: { options: any }) => {\r\n  const chartComponentRef: any = useRef(null);\r\n\r\n  Highcharts.setOptions({\r\n    // global: {\r\n    //   useUTC: false,\r\n    // },\r\n    lang: {\r\n      months: [\r\n        capitalizeFirstLetter('January'),\r\n        capitalizeFirstLetter('February'),\r\n        capitalizeFirstLetter('March'),\r\n        capitalizeFirstLetter('April'),\r\n        capitalizeFirstLetter('May'),\r\n        capitalizeFirstLetter('June'),\r\n        capitalizeFirstLetter('July'),\r\n        capitalizeFirstLetter('August'),\r\n        capitalizeFirstLetter('September'),\r\n        capitalizeFirstLetter('October'),\r\n        capitalizeFirstLetter('November'),\r\n        capitalizeFirstLetter('December'),\r\n      ],\r\n      shortMonths: [\r\n        capitalizeFirstLetter('Jan'),\r\n        capitalizeFirstLetter('Feb'),\r\n        capitalizeFirstLetter('Mar'),\r\n        capitalizeFirstLetter('Apr'),\r\n        capitalizeFirstLetter('May'),\r\n        capitalizeFirstLetter('Jun'),\r\n        capitalizeFirstLetter('Jul'),\r\n        capitalizeFirstLetter('Aug'),\r\n        capitalizeFirstLetter('Sep'),\r\n        capitalizeFirstLetter('Oct'),\r\n        capitalizeFirstLetter('Nov'),\r\n        capitalizeFirstLetter('Dec'),\r\n      ],\r\n      weekdays: [\r\n        capitalizeFirstLetter('Sunday'),\r\n        capitalizeFirstLetter('Monday'),\r\n        capitalizeFirstLetter('Tuesday'),\r\n        capitalizeFirstLetter('Wednesday'),\r\n        capitalizeFirstLetter('Thursday'),\r\n        capitalizeFirstLetter('Friday'),\r\n        capitalizeFirstLetter('Saturday'),\r\n      ],\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (chartComponentRef.current) {\r\n      chartComponentRef?.current?.chart?.xAxis[0].setExtremes();\r\n      chartComponentRef?.current?.chart?.yAxis[0].setExtremes();\r\n    }\r\n\r\n    const chart = chartComponentRef?.current?.chart;\r\n    syncTooltip(chart);\r\n  }, [options]);\r\n\r\n  return (\r\n    <HighchartsReact\r\n      id=\"highchart\"\r\n      ref={chartComponentRef}\r\n      highcharts={Highcharts}\r\n      options={options?.length ? [...options] : options}\r\n    />\r\n  );\r\n};\r\n\r\nexport const AaErrorBudgetsChart = ({\r\n  timeperiod,\r\n  selectedService,\r\n  serviceState,\r\n  step,\r\n  chartState,\r\n  deploymentsList,\r\n}: {\r\n  timeperiod: Timeperiod;\r\n  selectedService: string;\r\n  serviceState: any;\r\n  step: string;\r\n  chartState: any;\r\n  deploymentsList: any;\r\n}) => {\r\n  const [zoomTimeperiod, setZoomTimeperiod] = useState(null);\r\n  const [dataFeaturesVisibility, setDataFeaturesVisibility] = useState(null);\r\n  const [eventsVisibility, setEventsVisibility] = useState(null);\r\n\r\n  const errorBudgetChartOptionsBase = generateErrorBudgetChartOptionsBase(\r\n    dataFeaturesVisibility,\r\n    setDataFeaturesVisibility,\r\n    setZoomTimeperiod,\r\n    false,\r\n    step,\r\n  );\r\n\r\n  const eventsChartOptionsBase = generateEventsChartOptionsBase(\r\n    setZoomTimeperiod,\r\n    eventsVisibility,\r\n    setEventsVisibility,\r\n    step,\r\n  );\r\n\r\n  const featuresList = serviceState?.features?.map(\r\n    (feature: any) => feature.slo_name,\r\n  );\r\n\r\n  const [data, setData] = useState<any>([[null, null]]);\r\n  const [dataEvents, setDataEvents] = useState<any>([[null, null]]);\r\n  const [wasChartDataFormatted, setWasChartDataFormatted] =\r\n    useState<boolean>(false);\r\n  const [deploymentsVisible, setDeploymentsVisible] = useState<boolean>(true);\r\n\r\n  const [zoomedDataEvents, setZoomedDataEvents] = useState<any>(null);\r\n  const [zoomedData, setZoomedData] = useState<any>(null);\r\n  const [eventsChartSeries, setEventsChartSeries] = useState<any>(null);\r\n  const [errorBudgetChartSeries, setErrorBudgetChartSeries] =\r\n    useState<any>(null);\r\n\r\n  useEffect(() => {\r\n    setWasChartDataFormatted(false);\r\n  }, [timeperiod, selectedService, step]);\r\n\r\n  useEffect(() => {\r\n    if (chartState?.data?.length) {\r\n      let formattedData = data;\r\n      if (!wasChartDataFormatted) {\r\n        formattedData = chartState?.data?.map((feature: any) => {\r\n          if (feature?.data) {\r\n            feature.data.map((item: number[]) => {\r\n              item[0] = item[0] * 1000;\r\n              return item;\r\n            });\r\n          }\r\n\r\n          return feature;\r\n        });\r\n        setWasChartDataFormatted(true);\r\n      } else {\r\n        formattedData = chartState?.data?.map((feature: any) => {\r\n          if (feature?.data) {\r\n            feature.data?.map((item: any) => {\r\n              return item;\r\n            });\r\n          }\r\n          return feature;\r\n        });\r\n        setWasChartDataFormatted(true);\r\n      }\r\n\r\n      const formattedDataWithOptions = formattedData.map((dataSeries: any) => {\r\n        const formattedSeries = {\r\n          ...dataSeries,\r\n          data: [...dataSeries?.data],\r\n          name: dataSeries.feature,\r\n          tooltip: {\r\n            valueSuffix: ' %',\r\n          },\r\n          visible: true,\r\n        };\r\n        return formattedSeries;\r\n      });\r\n\r\n      setData(formattedDataWithOptions);\r\n\r\n      const eventsData = formattedData.reduce(\r\n        (acc: any, seriesData: any, index: number) => {\r\n          const columnsBadSeries = {\r\n            ...seriesData,\r\n            title: seriesData.slo_name,\r\n            type: 'column',\r\n            data: [...seriesData?.data].map((dataItem: any[] | null) => {\r\n              if (dataItem?.length) {\r\n                return [\r\n                  dataItem[0],\r\n                  dataItem[2].bad_events === 0 ? null : dataItem[2].bad_events,\r\n                ];\r\n              }\r\n              return [null, null];\r\n            }),\r\n            name: 'Bad events',\r\n            color: '#FF6384',\r\n            id: index.toString(),\r\n          };\r\n\r\n          const columnsGoodSeries = {\r\n            ...seriesData,\r\n            title: seriesData.slo_name,\r\n            type: 'column',\r\n            data: [...seriesData?.data].map((dataItem: any[] | null) => {\r\n              if (dataItem?.length) {\r\n                return [\r\n                  dataItem[0],\r\n                  dataItem[2].good_events === 0\r\n                    ? null\r\n                    : dataItem[2].good_events,\r\n                ];\r\n              }\r\n              return [null, null];\r\n            }),\r\n            name: 'Good events',\r\n            color: '#8ec358',\r\n            visible: false,\r\n          };\r\n\r\n          return [...acc, columnsBadSeries, columnsGoodSeries];\r\n        },\r\n        [],\r\n      );\r\n      setDataEvents([...eventsData]);\r\n    }\r\n  }, [chartState?.data, serviceState]);\r\n\r\n  useEffect(() => {\r\n    const visibility = data.reduce((acc: any, dataSeries: any) => {\r\n      return {\r\n        ...acc,\r\n        [dataSeries?.slo_name ? dataSeries?.slo_name : dataSeries?.title]: true,\r\n      };\r\n    }, {});\r\n\r\n    setDataFeaturesVisibility(visibility);\r\n\r\n    const updatedErrorBudgetOptions = {\r\n      ...errorBudgetChartOptionsBase,\r\n      series: [...data].map((series: any) => {\r\n        return {\r\n          ...series,\r\n          visible: visibility\r\n            ? visibility[series?.slo_name ? series?.slo_name : series?.name]\r\n            : true,\r\n        };\r\n      }),\r\n      xAxis: {\r\n        ...errorBudgetChartOptionsBase.xAxis,\r\n        plotLines: null,\r\n      },\r\n      service: selectedService,\r\n    };\r\n    setErrorBudgetChartSeries(updatedErrorBudgetOptions);\r\n    setZoomTimeperiod(null);\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    const visibility = dataEvents.reduce((acc: any, dataSeries: any) => {\r\n      if (dataSeries?.id) {\r\n        return {\r\n          ...acc,\r\n          [dataSeries.title]: {\r\n            [dataSeries?.name]: true,\r\n          },\r\n        };\r\n      }\r\n      return {\r\n        ...acc,\r\n        [dataSeries.title]: {\r\n          ...acc[dataSeries?.title],\r\n          [dataSeries?.name]: false,\r\n        },\r\n      };\r\n    }, {});\r\n\r\n    setEventsVisibility(visibility);\r\n    if (dataFeaturesVisibility && Object.keys(dataFeaturesVisibility)?.length) {\r\n      const updatedEventsChartSeries = Object.keys(\r\n        dataFeaturesVisibility,\r\n      ).reduce((acc, featureName) => {\r\n        const updatedAcc = {\r\n          ...acc,\r\n          [featureName]: {\r\n            ...eventsChartOptionsBase,\r\n            series: [...dataEvents]\r\n              .filter(dataSeries => dataSeries.title === featureName)\r\n              ?.map(series => {\r\n                const updated = {\r\n                  ...series,\r\n                  visible: series?.id ? true : false,\r\n                };\r\n                return updated;\r\n              }),\r\n            service: selectedService,\r\n          },\r\n        };\r\n\r\n        return updatedAcc;\r\n      }, {});\r\n\r\n      setEventsChartSeries(updatedEventsChartSeries);\r\n    }\r\n  }, [dataEvents]);\r\n\r\n  useEffect(() => {\r\n    if (dataFeaturesVisibility && Object.keys(dataFeaturesVisibility)?.length) {\r\n      const updatedEventsChartSeries = Object.keys(\r\n        dataFeaturesVisibility,\r\n      ).reduce((acc, featureName) => {\r\n        const updatedAcc = {\r\n          ...acc,\r\n          [featureName]: {\r\n            ...eventsChartOptionsBase,\r\n            series: zoomTimeperiod\r\n              ? [...(zoomedDataEvents ?? [])]\r\n                  .filter(dataSeries => dataSeries.title === featureName)\r\n                  ?.map(series => {\r\n                    const updated = {\r\n                      ...series,\r\n                      visible: eventsVisibility\r\n                        ? eventsVisibility[featureName][series?.name]\r\n                        : null,\r\n                    };\r\n                    return updated;\r\n                  })\r\n              : [...dataEvents]\r\n                  .filter(dataSeries => dataSeries.title === featureName)\r\n                  ?.map(series => {\r\n                    const updated = {\r\n                      ...series,\r\n                      visible: eventsVisibility\r\n                        ? eventsVisibility[featureName][series?.name]\r\n                        : null,\r\n                    };\r\n                    return updated;\r\n                  }),\r\n            service: selectedService,\r\n          },\r\n        };\r\n\r\n        return updatedAcc;\r\n      }, {});\r\n\r\n      setEventsChartSeries(updatedEventsChartSeries);\r\n    }\r\n  }, [zoomedDataEvents, eventsVisibility]);\r\n\r\n  useEffect(() => {\r\n    if (dataFeaturesVisibility && Object.keys(dataFeaturesVisibility)?.length) {\r\n      // update events data\r\n      const copiedDataEvents = _.cloneDeep(dataEvents);\r\n      const updatedEventsOptions = Object.keys(dataFeaturesVisibility).reduce(\r\n        (acc, featureName) => {\r\n          const updatedAcc = {\r\n            ...acc,\r\n            [featureName]: {\r\n              ...eventsChartOptionsBase,\r\n              series: zoomTimeperiod\r\n                ? [...(zoomedDataEvents ?? [])]\r\n                    ?.filter(dataSeries => dataSeries.title === featureName)\r\n                    ?.map(series => {\r\n                      const updated = {\r\n                        ...series,\r\n                        visible: eventsVisibility\r\n                          ? eventsVisibility[featureName][series?.name]\r\n                          : null,\r\n                      };\r\n                      return updated;\r\n                    })\r\n                : [...copiedDataEvents]\r\n                    .filter(dataSeries => dataSeries.title === featureName)\r\n                    ?.map(series => {\r\n                      const updated = {\r\n                        ...series,\r\n                        visible: eventsVisibility\r\n                          ? eventsVisibility[featureName][series?.name]\r\n                          : null,\r\n                      };\r\n                      return updated;\r\n                    }),\r\n              service: selectedService,\r\n            },\r\n          };\r\n          return updatedAcc;\r\n        },\r\n        {},\r\n      );\r\n      setEventsChartSeries(updatedEventsOptions);\r\n\r\n      // update error budgets chart data\r\n      const copiedData = _.cloneDeep(data);\r\n      const updatedErrorBudgetOptions = {\r\n        ...errorBudgetChartOptionsBase,\r\n        series: zoomTimeperiod\r\n          ? [...zoomedData].map(series => {\r\n              return {\r\n                ...series,\r\n                visible: dataFeaturesVisibility\r\n                  ? dataFeaturesVisibility[\r\n                      series?.slo_name ? series?.slo_name : series?.name\r\n                    ]\r\n                  : true,\r\n              };\r\n            })\r\n          : [...copiedData].map(series => {\r\n              return {\r\n                ...series,\r\n                visible: dataFeaturesVisibility\r\n                  ? dataFeaturesVisibility[\r\n                      series?.slo_name ? series?.slo_name : series?.name\r\n                    ]\r\n                  : true,\r\n              };\r\n            }),\r\n        xAxis: {\r\n          ...errorBudgetChartOptionsBase.xAxis,\r\n          plotLines: null,\r\n        },\r\n        service: selectedService,\r\n      };\r\n      setErrorBudgetChartSeries(updatedErrorBudgetOptions);\r\n    }\r\n  }, [zoomedDataEvents, zoomedData, dataFeaturesVisibility]);\r\n\r\n  useEffect(() => {\r\n    const updatedErrorBudgetOptions = {\r\n      ...errorBudgetChartOptionsBase,\r\n      series: errorBudgetChartSeries?.series?.map((series: any) => {\r\n        return {\r\n          ...series,\r\n          visible: dataFeaturesVisibility\r\n            ? dataFeaturesVisibility[\r\n                series?.slo_name ? series?.slo_name : series?.name\r\n              ]\r\n            : true,\r\n        };\r\n      }),\r\n      xAxis: {\r\n        ...errorBudgetChartOptionsBase.xAxis,\r\n        plotLines: null,\r\n      },\r\n      service: selectedService,\r\n    };\r\n\r\n    setErrorBudgetChartSeries(updatedErrorBudgetOptions);\r\n  }, [deploymentsVisible]);\r\n\r\n  useEffect(() => {\r\n    const copiedDataEvents = _.cloneDeep(dataEvents);\r\n    const copiedData = _.cloneDeep(data);\r\n    if (!zoomTimeperiod) {\r\n      setZoomedDataEvents([...copiedDataEvents]);\r\n      setZoomedData([...copiedData]);\r\n    } else {\r\n      if (copiedDataEvents) {\r\n        const filteredEvents = filterDataEvents(\r\n          [...copiedDataEvents],\r\n          zoomTimeperiod[0],\r\n          zoomTimeperiod[1],\r\n        );\r\n\r\n        setZoomedDataEvents(filteredEvents);\r\n      }\r\n      if (copiedData) {\r\n        const filteredData = filterDataEvents(\r\n          [...copiedData],\r\n          zoomTimeperiod[0],\r\n          zoomTimeperiod[1],\r\n        );\r\n        setZoomedData([...filteredData]);\r\n      }\r\n    }\r\n  }, [zoomTimeperiod]);\r\n\r\n  if (!featuresList?.length) {\r\n    return (\r\n      <div className=\"mr-5\" style={{ width: '100%', height: '190px' }}>\r\n        <p className=\"text-center text-gray-500 text-xl p-4\">\r\n          No SLOs. Add a SLO to start gathering data\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const clonedOptions = JSON.parse(JSON.stringify(errorBudgetChartSeries));\r\n  if (errorBudgetChartSeries?.chart?.events) {\r\n    clonedOptions.chart.events = errorBudgetChartSeries.chart.events;\r\n    clonedOptions.tooltip.formatter = errorBudgetChartSeries.tooltip.formatter;\r\n    clonedOptions.tooltip.positioner =\r\n      errorBudgetChartSeries.tooltip.positioner;\r\n    clonedOptions.plotOptions = errorBudgetChartSeries.plotOptions;\r\n    clonedOptions.legend = errorBudgetChartSeries.legend;\r\n    clonedOptions.legend.labelFormatter =\r\n      errorBudgetChartSeries.legend.labelFormatter;\r\n    clonedOptions.xAxis.plotLines = deploymentsVisible\r\n      ? zoomTimeperiod\r\n        ? formatPlotLines(deploymentsList, zoomTimeperiod[0], zoomTimeperiod[1])\r\n        : formatPlotLines(\r\n            deploymentsList,\r\n            timeperiod?.date_start * 1000,\r\n            timeperiod?.date_end * 1000,\r\n          )\r\n      : null;\r\n  }\r\n\r\n  const style = {\r\n    height: '42px',\r\n    display: 'flex',\r\n    justifyContent: 'end',\r\n    alignItems: 'center',\r\n    gap: '12px',\r\n  } as const;\r\n\r\n  return (\r\n    <div className=\"relative\">\r\n      <Box className=\"absolute \" sx={style}>\r\n        <Button\r\n          variant=\"contained\"\r\n          onClick={() => {\r\n            setDeploymentsVisible(prevState => !prevState);\r\n          }}\r\n        >\r\n          {deploymentsVisible ? 'Hide' : 'Show'} deployments\r\n        </Button>\r\n        {zoomTimeperiod ? (\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={() => {\r\n              setZoomTimeperiod(null);\r\n            }}\r\n          >\r\n            Reset zoom\r\n          </Button>\r\n        ) : null}\r\n      </Box>\r\n\r\n      {clonedOptions ? <SyncChart options={clonedOptions} /> : null}\r\n\r\n      <div >\r\n        {dataFeaturesVisibility &&\r\n          Object.keys(dataFeaturesVisibility).map((featureName, i) => {\r\n            if (dataFeaturesVisibility[featureName]) {\r\n              return (\r\n                <div key={featureName}>\r\n                  <Box\r\n                    className=\"\"\r\n                    sx={{\r\n                      display: 'flex',\r\n                      justifyContent: 'space-between',\r\n                      alignItems: 'center',\r\n                      marginBottom: '32px',\r\n                      marginTop: '48px',\r\n                    }}\r\n                  >\r\n                    <Typography variant=\"h6\" component=\"p\">\r\n                      {featureName} good/bad events\r\n                    </Typography>\r\n                    {zoomTimeperiod ? (\r\n                      <Button\r\n                        variant=\"outlined\"\r\n                        onClick={() => {\r\n                          setZoomTimeperiod(null);\r\n                        }}\r\n                      >\r\n                        Reset zoom\r\n                      </Button>\r\n                    ) : null}\r\n                  </Box>\r\n                  {eventsChartSeries && eventsChartSeries[featureName] ? (\r\n                    <SyncChart options={eventsChartSeries[featureName]} />\r\n                  ) : null}\r\n                </div>\r\n              );\r\n            }\r\n            return null;\r\n          })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"],"names":[],"mappings":"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"}