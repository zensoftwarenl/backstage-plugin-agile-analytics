{"version":3,"file":"AaSlosPage.esm.js","sources":["../../../src/components/AaSlosPage/AaSlosPage.tsx"],"sourcesContent":["/* eslint-disable no-console */\r\nimport { Progress } from '@backstage/core-components';\r\nimport { ServicesDataResponse, Timeperiod } from '../../api/types';\r\nimport { Box, Typography } from '@material-ui/core';\r\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\r\nimport { agileAnalyticsApiRef } from '../../api';\r\nimport useAsync from 'react-use/lib/useAsync';\r\nimport { AaSloServiceItem } from '../AaSloServiceItem';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nexport const AaSlosPage = ({\r\n  timeperiod,\r\n  orgHash,\r\n  apiKey,\r\n}: {\r\n  timeperiod: Timeperiod;\r\n  orgHash: string;\r\n  apiKey: string;\r\n}) => {\r\n  const api = useApi(agileAnalyticsApiRef);\r\n\r\n  const servicesState = useAsync(async (): Promise<ServicesDataResponse> => {\r\n    const response = await api.getServicesData({\r\n      orgHash,\r\n      apiKey,\r\n    });\r\n    return response;\r\n  }, []);\r\n\r\n  if (servicesState?.loading) {\r\n    return <Progress />;\r\n  } else if (servicesState?.error) {\r\n    return <Alert severity=\"error\">{servicesState?.error.message}</Alert>;\r\n  } else if (!servicesState?.value?.length) {\r\n    return <Typography component=\"p\">No services find</Typography>;\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex', flexDirection: 'column' }}>\r\n      {servicesState?.value?.map(item => (\r\n        <Box sx={{ marginBottom: '24px' }}>\r\n          <AaSloServiceItem timeperiod={timeperiod} service={item}\r\n            orgHash={orgHash}\r\n            apiKey={apiKey } />\r\n        </Box>\r\n      ))}\r\n    </Box>\r\n  );\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;AAUO,MAAM,aAAa,CAAC;AAAA,EACzB,UAAA;AAAA,EACA,OAAA;AAAA,EACA;AACF,CAAA,KAIM;AACJ,EAAA,MAAM,GAAA,GAAM,OAAO,oBAAoB,CAAA;AAEvC,EAAA,MAAM,aAAA,GAAgB,SAAS,YAA2C;AACxE,IAAA,MAAM,QAAA,GAAW,MAAM,GAAA,CAAI,eAAA,CAAgB;AAAA,MACzC,OAAA;AAAA,MACA;AAAA,KACD,CAAA;AACD,IAAA,OAAO,QAAA;AAAA,EACT,CAAA,EAAG,EAAE,CAAA;AAEL,EAAA,IAAI,eAAe,OAAA,EAAS;AAC1B,IAAA,2BAAQ,QAAA,EAAA,EAAS,CAAA;AAAA,EACnB,CAAA,MAAA,IAAW,eAAe,KAAA,EAAO;AAC/B,IAAA,2BAAQ,KAAA,EAAA,EAAM,QAAA,EAAS,OAAA,EAAS,QAAA,EAAA,aAAA,EAAe,MAAM,OAAA,EAAQ,CAAA;AAAA,EAC/D,CAAA,MAAA,IAAW,CAAC,aAAA,EAAe,KAAA,EAAO,MAAA,EAAQ;AACxC,IAAA,uBAAO,GAAA,CAAC,UAAA,EAAA,EAAW,SAAA,EAAU,GAAA,EAAI,QAAA,EAAA,kBAAA,EAAgB,CAAA;AAAA,EACnD;AAEA,EAAA,2BACG,GAAA,EAAA,EAAI,EAAA,EAAI,EAAE,OAAA,EAAS,MAAA,EAAQ,eAAe,QAAA,EAAS,EACjD,yBAAe,KAAA,EAAO,GAAA,CAAI,0BACzB,GAAA,CAAC,GAAA,EAAA,EAAI,IAAI,EAAE,YAAA,EAAc,QAAO,EAC9B,QAAA,kBAAA,GAAA;AAAA,IAAC,gBAAA;AAAA,IAAA;AAAA,MAAiB,UAAA;AAAA,MAAwB,OAAA,EAAS,IAAA;AAAA,MACjD,OAAA;AAAA,MACA;AAAA;AAAA,GAAiB,EACrB,CACD,CAAA,EACH,CAAA;AAEJ;;;;"}